@model UserUpdateInput
@{
    ViewData["Title"] = "Profile";
}

<div class="row">
    <div class="col-md-3">
        <div class="d-flex justify-content-center mb-3">
            <img class="profile-img" src="@Model.PictureUrl" alt="@Model.Name @Model.Surname">
        </div>
        <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action active">Profile</a>
            <a class="list-group-item list-group-item-action" asp-controller="Product" asp-action="Index">My Products</a>
            <a class="list-group-item list-group-item-action" asp-controller="Order" asp-action="CheckoutHistory">Purchase History</a>
        </div>
    </div>
    <div class="col-md-9">
        <form asp-controller="User" asp-action="Index" method="post" enctype="multipart/form-data">
            <div asp-validation-summary="ModelOnly"></div>
            <input type="hidden" asp-for="Picture" />
            <div class="row mb-3">
                <div class="col-md-12">
                    <input type="text" class="form-control" placeholder="Name" asp-for="Name" />
                    <span class="text-danger" asp-validation-for="Name"></span>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-12">
                    <input type="text" class="form-control" placeholder="Surname" asp-for="Surname" />
                    <span class="text-danger" asp-validation-for="Surname"></span>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-12">
                    <input type="email" class="form-control" placeholder="Email" asp-for="Email" />
                    <span class="text-danger" asp-validation-for="Email"></span>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-12">
                    <label for="files" class="btn file-label">Photo</label>
                    <input id="files" style="display:none;" type="file" asp-for="PhotoFormFile">
                    <span class="text-danger" asp-validation-for="PhotoFormFile"></span>
                </div>
            </div>
            <button class="btn_3 float-end" type="submit">Save</button>
        </form>
    </div>
</div>

<script>
    document.querySelector("#files").onchange = function () {
        const fileName = this.files[0]?.name;
        const label = document.querySelector("label[for=files]");
        label.innerText = fileName ?? "Photo";
    };
</script>

<style>
    .profile-img {
        border-radius: 50%;
        width: 150px;
    }

    .list-group-item.active {
        color: #212529;
        background-color: #ecfdff;
        border-color: #dee2e6;
    }

    .file-label {
        border: 1px solid #e5e5e5;
        border-radius: 0.375rem;
        font-family: 'Helvetica', sans-serif;
        transition: .5s;
        width: 100%;
        font-size: 1rem;
        padding: .375rem .75rem;
    }

    .file-label:hover {
        background-color: #eee;
    }
</style>
